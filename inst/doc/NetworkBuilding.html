<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Jeremy Gelb" />

<meta name="date" content="2025-03-29" />

<title>Building graphs</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Building graphs</h1>
<h4 class="author">Jeremy Gelb</h4>
<h4 class="date">2025-03-29</h4>


<div id="TOC">
<ul>
<li><a href="#introduction" id="toc-introduction">Introduction</a></li>
<li><a href="#calculating-the-nkde-density" id="toc-calculating-the-nkde-density">Calculating the NKDE
density</a></li>
<li><a href="#snapping-the-accidents-to-the-network" id="toc-snapping-the-accidents-to-the-network">Snapping the accidents to
the network</a></li>
<li><a href="#cutting-the-lines-of-the-network" id="toc-cutting-the-lines-of-the-network">Cutting the lines of the
network</a></li>
<li><a href="#building-a-graph-with-the-cut-lines" id="toc-building-a-graph-with-the-cut-lines">Building a graph with the
cut lines</a></li>
<li><a href="#calculating-for-each-node-of-the-graph-its-centrality" id="toc-calculating-for-each-node-of-the-graph-its-centrality">Calculating
for each node of the graph its centrality</a></li>
</ul>
</div>

<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>The goal of this vignette is to present how several functions in
<strong>spNetwork</strong> can be used to build graphs and to analyze
it.</p>
<p>To illustrate the process, we give a full example with the
calculation of the correlation between the centrality of bike accidents
in the Montreal network and the NKDE density calculated at each accident
point. Here are the steps we will follow to perform this analysis:</p>
<ol style="list-style-type: decimal">
<li>Calculating the NKDE density of accidents at each accident
point</li>
<li>Snapping the accidents to the network</li>
<li>Cutting the lines of the network at the snapped accidentsâ€™
locations</li>
<li>Building a graph with the cut lines</li>
<li>Calculating for each node of the graph its centrality
(betweenness)</li>
<li>Calculating the correlation between the NKDE density and the
centrality measure.</li>
</ol>
<p>Let us start by loading some data.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co"># first load data and packages</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">library</span>(spNetwork)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">library</span>(tmap)</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="fu">library</span>(dbscan)</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="fu">data</span>(mtl_network)</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a><span class="fu">data</span>(bike_accidents)</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a><span class="co"># then plotting the data</span></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a><span class="fu">tm_shape</span>(mtl_network) <span class="sc">+</span> </span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a>  <span class="fu">tm_lines</span>(<span class="st">&quot;black&quot;</span>) <span class="sc">+</span> </span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a>  <span class="fu">tm_shape</span>(bike_accidents) <span class="sc">+</span> </span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a>  <span class="fu">tm_dots</span>(<span class="st">&quot;red&quot;</span>, <span class="at">size =</span> <span class="fl">0.2</span>)</span></code></pre></div>
<p><img role="img" src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="calculating-the-nkde-density" class="section level1">
<h1>Calculating the NKDE density</h1>
<p>This step is easy to perform with the basic functions of
<strong>spNetwork</strong>. For the sake of simplicity, we select an
arbitrary bandwidth of 300m and use the discontinuous kernel.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co"># calculating the density values</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>densities <span class="ot">&lt;-</span> <span class="fu">nkde</span>(mtl_network, </span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>                  <span class="at">events =</span> bike_accidents,</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>                  <span class="at">w =</span> <span class="fu">rep</span>(<span class="dv">1</span>,<span class="fu">nrow</span>(bike_accidents)),</span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>                  <span class="at">samples =</span> bike_accidents,</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>                  <span class="at">kernel_name =</span> <span class="st">&quot;quartic&quot;</span>,</span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>                  <span class="at">bw =</span> <span class="dv">300</span>, <span class="at">div=</span> <span class="st">&quot;bw&quot;</span>, </span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a>                  <span class="at">method =</span> <span class="st">&quot;discontinuous&quot;</span>, <span class="at">digits =</span> <span class="dv">2</span>, <span class="at">tol =</span> <span class="fl">0.5</span>,</span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a>                  <span class="at">grid_shape =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>), <span class="at">max_depth =</span> <span class="dv">8</span>,</span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a>                  <span class="at">agg =</span> <span class="dv">5</span>,</span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a>                  <span class="at">sparse =</span> <span class="cn">TRUE</span>,</span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a>                  <span class="at">verbose =</span> <span class="cn">FALSE</span>)</span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a></span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a>bike_accidents<span class="sc">$</span>density <span class="ot">&lt;-</span> densities <span class="sc">*</span> <span class="dv">1000</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># mapping the density values</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="fu">tm_shape</span>(mtl_network) <span class="sc">+</span> </span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>  <span class="fu">tm_lines</span>(<span class="at">col =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>  <span class="fu">tm_shape</span>(bike_accidents) <span class="sc">+</span> </span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>  <span class="fu">tm_dots</span>(<span class="at">col =</span> <span class="st">&quot;density&quot;</span>, <span class="at">style =</span> <span class="st">&quot;kmeans&quot;</span>,</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>          <span class="at">n =</span> <span class="dv">6</span>, <span class="at">size =</span> <span class="fl">0.1</span>, <span class="at">palette =</span> <span class="st">&quot;-RdYlBu&quot;</span>)<span class="sc">+</span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>  <span class="fu">tm_layout</span>(<span class="at">legend.outside =</span> <span class="cn">TRUE</span>) </span></code></pre></div>
<p><img role="img" src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="snapping-the-accidents-to-the-network" class="section level1">
<h1>Snapping the accidents to the network</h1>
<p>For this step, we will use the function
<code>snapPointsToLines2</code>. It is mainly based on the function
<code>snapPointsToLines</code> from <strong>maptools</strong> but can be
used for bigger datasets. Note that we create two index columns:
<code>OID</code> for the accidentsâ€™ location and <code>LineID</code> for
the network lines.</p>
<p>We will also start by aggregating the points that are too close to
each other. We will aggregate all the points that are within a 5 metres
radius.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>bike_accidents<span class="sc">$</span>weight <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>agg_points <span class="ot">&lt;-</span> <span class="fu">aggregate_points</span>(bike_accidents, <span class="at">maxdist =</span> <span class="dv">5</span>)</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>agg_points<span class="sc">$</span>OID <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(agg_points)</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>mtl_network<span class="sc">$</span>LineID <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(mtl_network)</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>snapped_accidents <span class="ot">&lt;-</span> <span class="fu">snapPointsToLines2</span>(agg_points, </span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>                                        mtl_network,</span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a>                                        <span class="st">&quot;LineID&quot;</span>)</span></code></pre></div>
</div>
<div id="cutting-the-lines-of-the-network" class="section level1">
<h1>Cutting the lines of the network</h1>
<p>The next step is to use the new points to cut the lines of the
network.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>new_lines <span class="ot">&lt;-</span> <span class="fu">split_lines_at_vertex</span>(mtl_network, </span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>                                   snapped_accidents,</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>                                   snapped_accidents<span class="sc">$</span>nearest_line_id,</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>                                   <span class="at">mindist =</span> <span class="fl">0.1</span>)</span></code></pre></div>
</div>
<div id="building-a-graph-with-the-cut-lines" class="section level1">
<h1>Building a graph with the cut lines</h1>
<p>We can now build the graph from the cut lines.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>new_lines<span class="sc">$</span>OID <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(new_lines)</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>new_lines<span class="sc">$</span>length <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">st_length</span>(new_lines))</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>graph_result <span class="ot">&lt;-</span> <span class="fu">build_graph</span>(new_lines, <span class="dv">2</span>, <span class="st">&quot;length&quot;</span>, <span class="at">attrs =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
</div>
<div id="calculating-for-each-node-of-the-graph-its-centrality" class="section level1">
<h1>Calculating for each node of the graph its centrality</h1>
<p>The graph can be used with the library <strong>igraph</strong>. We
will calculate here the betweenness centrality of each node in the
graph.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>btws <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">betweenness</span>(graph_result<span class="sc">$</span>graph, <span class="at">directed =</span> <span class="cn">FALSE</span>,</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>                            <span class="at">normalized =</span> <span class="cn">TRUE</span>)</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>vertices <span class="ot">&lt;-</span> graph_result<span class="sc">$</span>spvertices</span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a>vertices<span class="sc">$</span>btws <span class="ot">&lt;-</span> btws</span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co"># mapping the betweenness</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="fu">tm_shape</span>(vertices) <span class="sc">+</span> </span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>  <span class="fu">tm_dots</span>(<span class="at">col =</span> <span class="st">&quot;btws&quot;</span>, <span class="at">style =</span> <span class="st">&quot;kmeans&quot;</span>,</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a>          <span class="at">n =</span> <span class="dv">6</span>, <span class="at">size =</span> <span class="fl">0.1</span>, <span class="at">palette =</span> <span class="st">&quot;-RdYlBu&quot;</span>)<span class="sc">+</span></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a>  <span class="fu">tm_layout</span>(<span class="at">legend.outside =</span> <span class="cn">TRUE</span>) </span></code></pre></div>
<p><img role="img" src="data:image/png;base64,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" /><!-- --></p>
<p>The last step is to find for each of the original points its
corresponding node. We will do it by using the k nearest neighbours
approach with the package <strong>FNN</strong>.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="co"># first: nn merging between snapped points and nodes</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>xy1 <span class="ot">&lt;-</span> <span class="fu">st_coordinates</span>(snapped_accidents)</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>xy2 <span class="ot">&lt;-</span> <span class="fu">st_coordinates</span>(vertices)</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>corr_nodes <span class="ot">&lt;-</span> dbscan<span class="sc">::</span><span class="fu">kNN</span>(<span class="at">x =</span> xy2, <span class="at">query =</span> xy1, <span class="at">k=</span><span class="dv">1</span>)<span class="sc">$</span>id</span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>snapped_accidents<span class="sc">$</span>btws <span class="ot">&lt;-</span> vertices<span class="sc">$</span>btws[corr_nodes]</span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a><span class="co"># second: nn merging between original points and snapped points</span></span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a>xy1 <span class="ot">&lt;-</span> <span class="fu">st_coordinates</span>(bike_accidents)</span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a>xy2 <span class="ot">&lt;-</span> <span class="fu">st_coordinates</span>(snapped_accidents)</span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a></span>
<span id="cb9-12"><a href="#cb9-12" tabindex="-1"></a>corr_nodes <span class="ot">&lt;-</span> dbscan<span class="sc">::</span><span class="fu">kNN</span>(<span class="at">x =</span> xy2, <span class="at">query =</span> xy1, <span class="at">k=</span><span class="dv">1</span>)<span class="sc">$</span>id</span>
<span id="cb9-13"><a href="#cb9-13" tabindex="-1"></a>bike_accidents<span class="sc">$</span>btws <span class="ot">&lt;-</span> snapped_accidents<span class="sc">$</span>btws[corr_nodes]</span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="co"># mapping the results</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="fu">tm_shape</span>(bike_accidents) <span class="sc">+</span> </span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>  <span class="fu">tm_dots</span>(<span class="at">col =</span> <span class="st">&quot;btws&quot;</span>, <span class="at">style =</span> <span class="st">&quot;kmeans&quot;</span>,</span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a>          <span class="at">n =</span> <span class="dv">6</span>, <span class="at">size =</span> <span class="fl">0.1</span>, <span class="at">palette =</span> <span class="st">&quot;-RdYlBu&quot;</span>)<span class="sc">+</span></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a>  <span class="fu">tm_layout</span>(<span class="at">legend.outside =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img role="img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAHgCAMAAABKCk6nAAAAbFBMVEUAAAAAADoAAGYAOpAAZmYAZrY6AAA6ADo6AGY6Ojo6OpA6kLY6kNtmAABmADpmAGZmtttmtv+QOgCQOjqQZgCQkGaQ2/+2ZgC22/+2///bkDrb/7bb////tmb/25D/27b//7b//7///9v///+/LPBUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAQPUlEQVR4nO2ci7bbthFFlbpO09ROaqexa9fXMa/+/x+rt/gYEANgAA4Oz15ZCSXhpdnEk7o5HAk0h60bQOpCweBQMDgUDA4Fg0PB4FAwOBQMDgWDQ8HgUDA4FAwOBYNDweBQMDgUDA4Fg0PB4FAwOBQMDgWDQ8HgUDA4FAwOBYNDweBQMDgUDA4Fg0PB4FAwOBQMDgWDQ8HgUDA4FAwOBYNDweBQMDgUDA4Fg0PB4FAwOBQMDgWDQ8HgUDA4FAwOBYNDweBQMDgUDA4Fg0PB4FAwOBQMDgWDQ8HgUDA4FAwOBYNDweBQMDgUDA4Fg0PB4FAwOBQMDgWDQ8HgUDA4FAwOBYNDweBQMDgUDA4Fg0PB4FAwOBQMzlPwgRSwocJ1DsIVScZv8CjYBL/Bo2AT/AbPueBhGLZuggqXwbvgW/AwdGLYY/CuULAJHoN3hYJN8Bi8K74Fcw4uxrngXvAbPAo2wW/wsAU3G+H9Bg9acLs1mt/guRBcSwMF+xBczQMFgwvmHIwuuBnj4H3/x6frxV//3aQtUzwI7uY4I4wk+CF6U1wI7h8KBmcq+M/D4c237z8fDv/6+O54fDl8OB4/vz2e3zhfbtWyngS7G9Mngn9+8+3149tLD/765tvx8z/fHV8/frh06O8/tzbcpWB/q7Kp4A+X8fls9PsvX17/+PPUnX/5cvpn25ZRcAETwWeTP95fuuy55/76v9+/XHry4fB2y5ZRcAEhwae59+Xt68d/n+fi85uHv7Xuxl0Kdj4HXybb6xB9fHnznw/Hr3//7bagPnnfrGU9CXaHtMi6yPzx/qdPp3X0aYR+OXfe9lsnCjZhsU06z7afz//+fHL74/15hH457ZJ+ar41riLY3QhaHb+9o4Zgf2ug6lAwOBRcWJ5haVXYl2BjIz0MCDsSbC+DgkuwFjy2YeSFgkuoKNhMjH+/FNyATW+D/Qg+TkbohjHfdiDfkeARrTswBQu0OItuEnkKlmkguFHoPc3Bt7a83H+Ddbl4/Xh5BvHS9odZOII3ZRq82zf+8dun6+90rhdf355/4PF4s3nLKLgAUfD3X7+9/nF+Pvi4OH5997xu3bLO5+BtEQW/nB8Hn4fjx8WP3788rpu3zO86oQPEOXgh+DQ8H3ciuLRTh/IHy608iojBmw/R1x9rAQ7RS0qn5VD+YLm11wFi8GaLrPF1xaYEW0bBBcjBu+yITvPu9eLz+f9K+w5wmySwE8Ee4BxsAgWPAdw2UfAIxIMPCh5hKtjJvULBIywFK8pqcgtAC06OoG0HjhTWZkJAFrzplGokuPgbUHAtNCP0M0m1XTIFb8fUb9r5iBpkwV4Wsgoo2AivytdOMstK3pdgv4N2tXZRMDiggjd6dOMQTMH1prRmhVqxM8E18D0sUHAxxZVVbSum4KajZq0fgdgAKjiB8uhmlfDMJAm2U757wa1n0Ftto2qFFhg2CkJwSTQaC75XN65W7MAU/KQoHFUEh4uUBFdt1O4F11iPrTTo8dFKtYPlTUfBFVhrULyptl8HQbC7o6TiIYWCnVNkiILDeOvKeei+hfK7Qgl2NxlXRPtdKbhTKBiB2F5KUQSUYCkgPStflbjHOVjAS6eetiLQptnbJgceFNyEaTMCjZq9PUwFr3+P4Kfggos7gdHtkS84kif6KbZgC78mhrMFK1uya8EljTAb4TPnYG1LKHirAuzgHCxRrKeK35Y3DaRgN71OpumwgCjY0bgqQsEXKNgECrYhqUbOwWe6moP9Dhr9CnYVUQpOJyLYV0h9tWYMBYtFN8nTBApOLtm43sq3RreC0wOjzRARbHxnqYorqLFfwamoxcyf0uWWo9OiKa7kJqBgMaWYaVD8VVFyhamCQ6lD5VCwOtP92mioHyVLKClYKAXnLo5PuRK77iSvCcu7TF3bjgRncfN7jl2ysBrr43Ajdj8H57MYm5Vza63GJKXfOnhh/AkOvQ7m8XD2sXXwwvgRLP5eOZ4lmqrJHbB58II4EjzDSLC2j5fdB96C98SvYO0cbCO4cKx3F7wHngRnhVgxQlPw7GojKi2Y1CM0Ba9h4GbbFTHn4FUs5NgLbnfDULCuBHO/rQxTsHEB1gun0jsBXnBxhNIE61Lryyy+P/EFl1JDsP6uo+D6CBEOB916dqXgHGyWXcHnskVlW5e3R8E2665N98Z6KDi3AAouxIPgZ7ppjnzBze+K/QlOUPNMKeTJ9dvY8O4Ep4R4VXD12qMlqdJRsCqtiRjLmVtdEAVHEi+uymo27MAULJMRYm/Dc0ph+xOcjiaYinDbLrB2PgebrlVXzQz6v3rYZOOMKdi8s8TOnv0ee1CwrrhITdEKN/NPwWUMT3w0aA6m4GCHsQ+zbvNDwUuyBccHVGMaC04rCU+wYklkjNE2yrC2ERRcTOMFFgXHd62mtF5g7V5wvR2JXPA84ItU7TblEp0JbrAWDVYRCO3s7WWqLQQ/0/QluMFuI1xF6JNFBzb5aUAIVQhGiSh4xqiKWV3qvlO3iYmNoOBZyJ5VLCrT1d1gFtG0oU/BVaK3nETF97ui1zm4CrLIYYgLFpZT6wlKydgAUrAsWOl3fX1VNAaEGqVry4NuBFccLoMdOJ6vnmApL7LgJhPiqIrOBIfHGwp+MqlDuRtZe106QotjdELqC+iCU3IZ30SFxSVl7l9w5hycFGQvgnOyBfN0IziPtCCLabOlr9cd/qz0PpvmpuB6JUT8ps+n2lrH2cEFx4KsKqDG6q6G4Gs2RME15+fAdiWjPnXll0/S67gVCSg485ZXZkvZjqbVLhaeX8c9C94cXFewYcaEkgoET9mx4FgnMq8vpaScOsQcCIKL5kSzSOY0Z32pldgqGQjBJdivklNK1KbMbyMFbyq4fpGogu07UULNFKwhInj9G1c6nlBQw+8eBUe+8saCdenMy5Sg4HGexBwFNS+ThbMV3a2QgrOGSatOr+7A6l8H7FLwWhzzAqLItUiQniNYW77g9UZ0K3iFWoJTpKwnEIaYcFlls1FfgjOHPx2a7mgjWHy7oAPDCK6xQk0gWXBoLZB2B66njq03IAWXsjJYim9M/zP+dGWELm/Oah13KHhJajW39Akd3O5rRNvaleAaY688G1YWbAeYYHukAA1DdOAT0y/ymPtNWZvdoOBQF84ynNWAlLTJVVCwyTqo5FclsYV4ZiW3pHsXHOpB2wleUZpSyT3t7gWHaOM3tjKbfZw6bRwp2IaC9bLQgZ/v5E7sRwq2xXBDNC4q2+85F+dgNfEgGwo+zjtwXhGPfFsHL0yqYPNN56hgjeGNao7lgxFs2YlalaypOjMbBevZUHAuowbvSXDBgjQrX2FNNtXCCM54Xm+CZZnLLVJ5NTiCo1QRbFpoWHB+NRQcy2NfqK6wXQouC2ZybsVBQyBF/vJXfrETwY3Xs4PmJCnk11B7UVYAwXVPOGyeEQ3iTz6MEUvvX3DlDbDJM6Lr68qC5eK7EizeoxXDll/wsgNT8BztKrrxxBwnPMrUnYNRBTc8aFIRmkfsC1VVAiDYGVVGlJ1sk7qgylKfgh1RZSWYPYf7DV5QsLM5V4XJuJ1VSH+C3a2aNVDwEijBqcNOygHoOn0JbnBcUBld2w3PsrsS/DgQ2qRBFijvTsObuEPBPZMveBfbpD4Fj9s83IhnWfoN5VovrivBXY7OUzUqw3IHDmSKFNeX4B5ZCKDgK6iCpR6suAXWRmgK3pSAvdHbUifPLn+G3+DBCJ5xszmWOhOs16tI6Td4EIIlA48OHBCs3ytoUvoNHoLgla45WU7PU6UKXsngN3h4gpUbpnTBazn8Bg9dsPTG4219+SvlXPAbPATBkbFX31ejtVCwB+YarmIyJQcX4VP8Bg9Q8JzhQWbexeUSv8HbgeCS59sU3Avlgld/kec3eHsRXD4H31+K5fgN3m4EJxK4HygYhJDI2/uLD/0Gr2PB4gmkXdnBLix96jd4/QrWnCAWF6791G/w9iE4/RZYzUHBLUgQbN7JOQe3QD8HhwVbifcbvI4F61lbMtkY9hs8WMHzJ0yhRDazs9/goQoW1S3eyhAsZ/EbvD0JFt7L6sAU7AClYJuCPQcPVfD0Sf3jwmBJxTnYGdNHupX+8spv8LYVXCXYs1Jn/XZY9mODVlCwSJVjZNHo7OXaHZAFBYs0ESx1aApuQxvB0sfjJBRcjxZzsPj53HBReUcKdkdKr9Wk9Ru87gXnDQIU3Au5E2hCLgreEuN1mlgY5+ANiS+ZS0tTFeE3eL0LTv3xVLSwvCeKfoPXveBVlqdYSekDbwn4Dd6eBCtciSM0BftAErF2Kl1Q7AK/wcMRHNdX52T0gt/g7UlwpZPRM36DtyvBsfz5mf0GD0dwYf8suz/8Bg9IcIx1gfIOSVu23+DtR7DmMXFKhgl+g4crONVX5hHHFb/BgxW80JM8yVKwa8QhN7kIbVK/wUMVPEwE19sA3/AbPFDBC7+VDfsNHrLgwKsa+A0eBZvgN3iggpe/dq9bnd/gYQq+Cx2q/bXZDL/BgxR8H5KHB7Vr9Bs8CjbBb/Ao2AS/wQMUfFc6xP2aqfcbPDzBk+67vkOy69x+g0fBJpX6DR6c4GEieP1EmoI7JDwBCzo5B/fHZGSOCTbDb/DgBB/HZsdOq+6X/AYPT/CF5Qi99Gup22/wIAVLO+CFYNMO7Td4UIJvxqQJePm/TzIdsv0GD0nwdAcs/O0oBffNTPB8kq05RvsNHpzgxyYp8rekwusC/AYPSfDT8HL+rVyz3+BBCT7K82/NDfANv8HrWXBgGF6M0RQ8u+qE2THG6ErcAldV7Dd4GIKlHdA8ZVXDfoO3C8H1R2m/wetK8HJj+7yaTbnVnvzK+A1eT4JXLEWXVJyDHbfxTkBw5MCqCX6D17/gtRPIZqr9Bq8nwbIvaUskflQTv8HrSrDIypkGBSMIPoaVUnD3giP7Xc7BnQsWTzS2aIjf4CEJ3kjuGb/BAxK8yQb4ht/g9Sx49gyBgiU6Fjx/RkTBEr0Lnr2xVVv8Bg9F8IZyz/gNXseC44+Q2uE3eD0LfrJYbbVugN/g9Sp4+QuOh+MterPf4HUqWPgJx8MwBY8BEHxXS8ESMIJH73EOHtGj4Ft3Hb3cTOwdv8HrULCnA447foPXu2AHcs/4DV7ngrc+4LjjN3gdCvZ0gnXHb/B6FDyCgmN0LphzcIyuBTuxe/QcvJ4Fexmfj56DR8Em+A0eBZvgN3g9C+YcrKBrwX7wGzwKNsFv8CjYBL/BGwkmBWyocB2/LSMmUDA4FAwOBYNDweBQMDgUDA4Fg0PB4FAwOBQMDgWDQ8HgUDA4FAwOBYNDweBQMDgUDA4Fg0PB4FAwOBQMDgWDQ8HgUDA4FAwOBYNDweBQMDgUDA4Fg0PB4FAwOBQMDgWDQ8HgUDA4FAwOBYNDweBQMDgUDA4Fg0PB4FAwOBQMDgWDQ8HgUDA4FAwOBYNDweBQMDgUDA4Fg0PB4FAwOBQMDgWDQ8HgUDA4FAwOBYNDweBQMDgUDA4Fg0PB4FAwOBQMDgWDQ8HgUDA4FAwOBYNDweBQMDgUDA4Fg0PB4PwfDwEj8ZH7y2oAAAAASUVORK5CYII=" /><!-- --></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="fu">tm_shape</span>(bike_accidents) <span class="sc">+</span> </span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>  <span class="fu">tm_dots</span>(<span class="at">col =</span> <span class="st">&quot;density&quot;</span>, <span class="at">style =</span> <span class="st">&quot;kmeans&quot;</span>,</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>          <span class="at">n =</span> <span class="dv">6</span>, <span class="at">size =</span> <span class="fl">0.1</span>, <span class="at">palette =</span> <span class="st">&quot;-RdYlBu&quot;</span>)<span class="sc">+</span></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>  <span class="fu">tm_layout</span>(<span class="at">legend.outside =</span> <span class="cn">TRUE</span>) </span></code></pre></div>
<p><img role="img" src="data:image/png;base64,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" /><!-- --></p>
<p>And finally, we can calculate the correlation between the two
variables !</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="fu">cor.test</span>(bike_accidents<span class="sc">$</span>density, bike_accidents<span class="sc">$</span>btws)</span></code></pre></div>
<pre><code>## 
##  Pearson&#39;s product-moment correlation
## 
## data:  bike_accidents$density and bike_accidents$btws
## t = NA, df = 345, p-value = NA
## alternative hypothesis: true correlation is not equal to 0
## 95 percent confidence interval:
##  NA NA
## sample estimates:
## cor 
##  NA</code></pre>
<p>We can see that there is no correlation between the two variables.
There is no association between the degree of centrality of an accident
location in the network and the density of accidents in a radius of 300m
at that location.</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
